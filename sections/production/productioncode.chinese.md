# 程式碼生產環境的準備

<br/><br/>


### 一段解釋

以下是一個開發技巧的列表，它極大地影響了產品的維護和穩定性：

* 十二因素指南 — 熟悉[12因素](https://12factor.net/)指南
* 無狀態 — 在一個特定的web伺服器上不儲存本地資料（請參閱相關條目 - “Be Stateless”）
* 快取記憶體 — 大量使用快取，但不會因為快取不匹配而產生錯誤
* 測試記憶體 — 測量記憶體的使用和洩漏，是作為開發流程的一部分，諸如“memwatch”之類的工具可以極大地促進這一任務
* 命名函數 — 將匿名函數(例如，內聯callbabk)的使用最小化，因為一個典型的記憶體分析器為每個方法名提供記憶體使用情況
* 使用CI工具 — 在傳送到生產前使用CI工具檢測故障。例如，使用ESLint來檢測引用錯誤和未定義的變數。使用–trace-sync-io來識別用了同步api的程式碼(而不是非同步版本)
* 明確的日誌 — 包括在每個日誌語句中希望用json格式記錄上下文資訊，以便於日誌聚合工具，如Elastic可以在這些屬性上搜尋(請參閱相關條目 – “Increase visibility using smart logs”)。此外，還包括標識每個請求的事務id，並允許將描述相同事務的行關聯起來(請參閱 — “Include Transaction-ID”)
*  錯誤管理 — 錯誤處理是Node.js生產站點的致命弱點 – 許多Node程序由於小錯誤而崩潰，然而其他Node程序則會在錯誤的狀態下存活，而不是崩潰。設定你的錯誤處理策略絕對是至關重要的, 在這裡閱讀我的(錯誤處理的最佳實踐)(http://goldbergyoni.com/checklist-best-practices-of-node-js-error-handling/)